﻿<AuthorizeView>
    <Authorized>
        <MudContainer Style="width: 18rem; margin-top: 2rem; margin-bottom: 2rem;">
            @if (!string.IsNullOrEmpty(LogoCorp) || !string.IsNullOrEmpty(photoUser))
            {
                <MudContainer Class="d-flex justify-content-center mb-1 flex-row">
                    @if (!string.IsNullOrEmpty(LogoCorp))
                    {
                        <MudAvatar Size="Size.Large" Class="mb-1 mx-auto d-block">
                            <MudImage Src="@LogoCorp"></MudImage>
                        </MudAvatar>
                    }
                    @if (!string.IsNullOrEmpty(photoUser))
                    {
                        <MudAvatar Size="Size.Large" Class="mb-1 mx-auto d-block">
                            <MudImage Src="@photoUser"></MudImage>
                        </MudAvatar>
                    }
                </MudContainer>
            }
            <MudText Typo="Typo.body1" Align="Align.Center">@context.User.Identity!.Name</MudText>
            <MudPaper Elevation="1" Class="d-flex justify-content-center align-content-center">
                <MudStack Spacing="2">
                    <MudButton Variant="Variant.Text" OnClick="ShowModalCambiarClave">
                        Cambiar Clave
                        <MudIcon Icon="@Icons.Material.Filled.LockReset" />
                    </MudButton>
                    <MudButton Variant="Variant.Text" OnClick="ShowModalLogOut">
                        Cerrar Sesion
                        <MudIcon Icon="@Icons.Material.Filled.Login" />
                    </MudButton>
                </MudStack>
            </MudPaper>
        </MudContainer>
    </Authorized>
    <NotAuthorized>
        <MudContainer Style="width: 18rem; margin-top: 2rem; margin-bottom: 2rem;">
            <MudStack Spacing="2">
                @* <a href="/register" class="nav-link btn btn-link">Registrarse <MudIcon Icon="@Icons.Material.Filled.HowToReg" /></a> *@
                <MudMenuItem OnClick="ShowModalRecoverPassword">Recuperar Clave <MudIcon Icon="@Icons.Material.Filled.Lock" /> </MudMenuItem>
                <MudMenuItem OnClick="ShowModalLogIn">Iniciar Sesion <MudIcon Icon="@Icons.Material.Filled.Login" /> </MudMenuItem>
            </MudStack>
        </MudContainer>
    </NotAuthorized>
</AuthorizeView>